/* static/base.css */
/* Base theme variables shared across pages */

:root{
  --font-sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;

  /* Defaults = Light (fond blanc) */
  --bg-color: #ffffff;
  --panel-bg: #ffffff;
  --text-main: #111111;
  --accent: #0066ff;
  --alert: #d50000;
  --border: 1px solid #d0d0d0;
  --wl-bg: #ffeb3b;
  --wl-text: #000000;
  --open-color: #d35400;

  /* Charts */
  --chart-text: var(--text-main);
  --chart-grid: rgba(0,0,0,0.12);

  /* V4 look (cartons) */
  --panel-border-strong: rgba(0,0,0,0.14);
  --panel-shadow: 0 12px 26px rgba(0,0,0,0.10);
  --panel-glow: 0 0 0 1px rgba(255,255,255,0.70) inset;
  --panel-radius: 14px;
  --panel-pad: 14px;
}

/* Light explicit */
body[data-theme='light']{
  --bg-color: #ffffff;
  --panel-bg: #ffffff;
  --text-main: #111111;
  --accent: #0066ff;
  --alert: #d50000;
  --border: 1px solid #d0d0d0;
  --wl-bg: #ffeb3b;
  --wl-text: #000000;
  --open-color: #d35400;

  --chart-text: var(--text-main);
  --chart-grid: rgba(0,0,0,0.12);

  --panel-border-strong: rgba(0,0,0,0.14);
  --panel-shadow: 0 12px 26px rgba(0,0,0,0.10);
  --panel-glow: 0 0 0 1px rgba(255,255,255,0.70) inset;
}

/* Dark */
body[data-theme='dark']{
  --bg-color: #050505;
  --panel-bg: #0e0e0e;
  --text-main: #a0a0a0;
  --accent: #00f3ff;
  --alert: #ff003c;
  --border: 1px solid #333;
  --wl-bg: #ffeb3b;
  --wl-text: #000000;
  --open-color: #d35400;

  --chart-text: var(--text-main);
  --chart-grid: rgba(255,255,255,0.14);

  --panel-border-strong: rgba(255,255,255,0.18);
  --panel-shadow: 0 10px 28px rgba(0,0,0,0.55);
  --panel-glow: 0 0 0 1px rgba(255,255,255,0.06) inset;
}

/* SoftTech (dark + cyan, proche v4) */
body[data-theme='softtech']{
  --bg-color: #0a0a0a;
  --panel-bg: #111111;
  --text-main: #a8a8a8;
  --accent: #00f3ff;
  --alert: #ff003c;
  --border: 1px solid #333;
  --wl-bg: #ffeb3b;
  --wl-text: #000000;
  --open-color: #d35400;

  --chart-text: var(--text-main);
  --chart-grid: rgba(255,255,255,0.14);

  --panel-border-strong: rgba(255,255,255,0.18);
  --panel-shadow: 0 10px 28px rgba(0,0,0,0.55);
  --panel-glow: 0 0 0 1px rgba(255,255,255,0.06) inset;
}



/* Bento Grid */
body[data-theme='bento']{
  --bg-color: #f3efe6;
  --panel-bg: #fffaf1;
  --text-main: #2b2a27;
  --accent: #ff7a59;
  --alert: #e23d5d;
  --border: 1px solid #d9cfc1;
  --wl-bg: #ffe08a;
  --wl-text: #2b2a27;
  --open-color: #b66a1d;

  --chart-text: #2b2a27;
  --chart-grid: rgba(43,42,39,0.16);

  --panel-border-strong: rgba(43,42,39,0.18);
  --panel-shadow: 0 12px 24px rgba(104,88,67,0.12);
  --panel-glow: 0 0 0 1px rgba(255,255,255,0.75) inset;
}

/* Matrix */
body[data-theme='matrix']{
  --bg-color: #000000;
  --panel-bg: #040404;
  --text-main: #00ff41;
  --accent: #00ff41;
  --alert: #ff003c;
  --border: 1px solid rgba(0,255,65,0.35);
  --wl-bg: #ffeb3b;
  --wl-text: #000000;
  --open-color: #d35400;

  --chart-text: var(--text-main);
  --chart-grid: rgba(0,255,65,0.18);

  --panel-border-strong: rgba(0,255,65,0.45);
  --panel-shadow: 0 10px 28px rgba(0,0,0,0.65);
  --panel-glow: 0 0 0 1px rgba(0,255,65,0.10) inset;
}

/* Apply variables */
body{
  background: var(--bg-color);
  color: var(--text-main);
  font-family: var(--font-sans);
}

/* ===== V4 LOOK: panels clearer everywhere ===== */
.panel{
  background: var(--panel-bg);
  border: 1px solid var(--panel-border-strong);
  border-radius: var(--panel-radius);
  box-shadow: var(--panel-shadow), var(--panel-glow);
  overflow: hidden;
}

.panel-header{
  padding: 10px var(--panel-pad);
  border-bottom: 1px solid rgba(255,255,255,0.12);
  letter-spacing: 0.06em;
  text-transform: uppercase;
}

body[data-theme='light'] .panel-header{
  border-bottom: 1px solid rgba(0,0,0,0.10);
}

.panel-content, .panel-body, #meta-content{
  padding: var(--panel-pad);
}

/* separators / tables */
.panel hr{
  border: none;
  border-top: 1px dashed rgba(255,255,255,0.18);
  margin: 10px 0;
}
body[data-theme='light'] .panel hr{
  border-top: 1px dashed rgba(0,0,0,0.18);
}

table tr{
  border-bottom: 1px solid rgba(255,255,255,0.10);
}
body[data-theme='light'] table tr{
  border-bottom: 1px solid rgba(0,0,0,0.08);
}
/* =========================================================
   FIX Leaflet overlay blocking navigation (World page)
   ========================================================= */

/* Navigation bar must stay above maps */
.topbar {
  position: relative;     /* ou fixed si tu préfères */
  z-index: 10000;
  pointer-events: auto;
}

/* Leaflet maps must stay below UI */
#map,
.leaflet-container {
  z-index: 1;
}
/* =========================================================
   FIX Leaflet overlay blocking navigation (World page)
   ========================================================= */

/* Navigation bar must stay above maps */
.topbar {
  position: relative;     /* ou fixed si tu préfères */
  z-index: 10000;
  pointer-events: auto;
}

/* Leaflet maps must stay below UI */
#map,
.leaflet-container {
  z-index: 1;
}
body {
  margin: 0;
  padding-top: 48px; /* hauteur réelle de ta topbar */
}
body {
  margin: 0;
  padding-top: 48px; /* hauteur réelle de ta topbar */
}
/* ===== FORCE TOPBAR VISIBILITY & INTERACTION ===== */
.topbar,
.topbar a {
  color: #ffffff !important;
  pointer-events: auto !important;
  opacity: 1 !important;
  visibility: visible !important;
}
/* ===== WORLD PAGE HARD RESET FOR NAV ===== */
body[data-page="world"] .topbar {
  background: rgba(0,0,0,0.9) !important;
  z-index: 2147483647 !important;
}



body[data-theme='bento']{
  background:
    radial-gradient(800px 500px at 8% 8%, rgba(255,122,89,0.14), transparent 60%),
    radial-gradient(700px 420px at 92% 12%, rgba(255,212,102,0.16), transparent 62%),
    var(--bg-color);
}
